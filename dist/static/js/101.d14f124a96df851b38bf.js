webpackJsonp([101],{"Ur/u":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("VXZc"),o=a("1G+u"),n=a("iVs4"),l=a("NcNL"),s=a.n(l),i=a("wJ7o"),c=a.n(i),d={data:function(){return{total:0,form:{page:1,page_size:20,start_at:"",end_at:""},list:[],columns:[{label:"日期",field:"day",align:"center"},{label:"付款金额",field:"sum_payment_amount",align:"center"},{label:"结算金额",field:"sum_real_amount",align:"center"},{label:"提成支出",field:"sum_settled_income",align:"center"},{label:"平均提成比率",field:"avg_bonus_rate",align:"center"},{label:"审核状态",field:"check_status",align:"center"}]}},methods:{getOrderSumList:function(t){var e=this;n.a.getOrderSumList(t).then(function(t){for(var a in e.total=t.data.total_count,e.list=[],t.data.data)e.list.push(t.data.data[a])})},sizeChange:function(t){this.form.page_size=t,this.getOrderSumList(this.form)},pageChange:function(t){this.form.page=t,this.getOrderSumList(this.form)},exportExcel:function(){var t=this;this.form.page_size=-1,n.a.getOrderSumList(this.form).then(function(e){for(var a in t.total=e.data.total_count,t.list=[],e.data.data)t.list.push(e.data.data[a]);setTimeout(function(){var t=c.a.utils.table_to_book(document.querySelector("#rebateSetTable")),e=c.a.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{s.a.saveAs(new Blob([e],{type:"application/octet-stream"}),"提成订单汇总.xlsx")}catch(t){"undefined"!=typeof console&&console.log(t,e)}return e},1e3)})}},created:function(){this.getOrderSumList(this.form)},components:{TableView:o.a,PaginationView:r.a}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",[a("el-row",[a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"开始时间：",prop:"start_at"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.form.start_at,callback:function(e){t.$set(t.form,"start_at",e)},expression:"form.start_at"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"结束时间：",prop:"end_at"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.form.end_at,callback:function(e){t.$set(t.form,"end_at",e)},expression:"form.end_at"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:3,offset:1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.getOrderSumList(t.form)}}},[t._v("搜索")])],1),t._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-button",{attrs:{icon:"el-icon-download"},on:{click:t.exportExcel}},[t._v("下载报表")])],1)],1)],1),t._v(" "),a("p"),t._v(" "),a("table-view",{attrs:{columns:t.columns,pageList:t.list,id:"rebateSetTable"}}),t._v(" "),a("pagination-view",{attrs:{currentPage:t.form.page,total:t.total},on:{"size-change":t.sizeChange,"current-change":t.pageChange}})],1)},staticRenderFns:[]};var m=a("C7Lr")(d,f,!1,function(t){a("l6Vk")},"data-v-09bf8f06",null);e.default=m.exports},l6Vk:function(t,e){}});