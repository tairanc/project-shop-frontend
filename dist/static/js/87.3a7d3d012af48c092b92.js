webpackJsonp([87],{DpOW:function(e,t){},y8fa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("1G+u"),r=a("VXZc"),n=a("Bkmr"),o={data:function(){return{start_time:"",end_time:"",formOnSale:{name:"formOnSale",total:0,form:{title:"",chip_code:"",started_at:"",end_at:"",status:"",page:1,page_size:20},rules:{title:[{max:100,message:"长度在 0 到 100 个字符",trigger:"blur"}],chip_code:[{max:100,message:"长度在 0 到 100 个字符",trigger:"blur"}]},columns:[{label:"芯片编码",field:"chip_code",align:"center"},{label:"状态",field:"status",align:"center"},{label:"商品名称",field:"title",align:"center"},{label:"规格",field:"spec_text",align:"center"},{label:"商品数量",field:"num",align:"center"},{label:"创建时间",field:"created_at",align:"center"},{label:"修改时间",field:"updated_at",align:"center"}],list:[]}}},computed:{time:function(){var e=new Date;return e.setTime(e.getTime()-7776e6)}},methods:{handleSelectChange:function(e){var t=this;t.formOnSale.selectList=[],e.forEach(function(e){t.formOnSale.selectList.push(e.id)})},handleSizeChange:function(e){this.formOnSale.form.page_size=e,this.getChip(this.formOnSale.form)},handleNumberChange:function(e){this.formOnSale.form.page=e,this.getChip(this.formOnSale.form)},search:function(){var e=this;this.$refs.formOnSale.validate(function(t){t&&(e.formOnSale.form.page=1,e.getChip(e.formOnSale.form))})},resetForm:function(){this.$refs.formOnSale.resetFields()},getChip:function(e){var t=this;n.a.getChip(e).then(function(e){for(var a in t.formOnSale.list=[],t.formOnSale.total=e.data.total,e.data.list){var l=e.data.list[a].status;e.data.list[a].status=1==l?"已上架":"已核销",e.data.list[a].num=1,t.formOnSale.list.push(e.data.list[a])}})},addChip:function(){this.$router.push({name:"addChip"})}},components:{TableView:l.a,PaginationView:r.a},mounted:function(){this.search()}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chip"},[a("el-form",{ref:"formOnSale",attrs:{model:e.formOnSale.form,rules:e.formOnSale.rules,"label-width":"100px",size:"medium"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"芯片编码：",prop:"chip_code"}},[a("el-input",{model:{value:e.formOnSale.form.chip_code,callback:function(t){e.$set(e.formOnSale.form,"chip_code",t)},expression:"formOnSale.form.chip_code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"商品名称：",prop:"title"}},[a("el-input",{model:{value:e.formOnSale.form.title,callback:function(t){e.$set(e.formOnSale.form,"title",t)},expression:"formOnSale.form.title"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"状态：",prop:"status"}},[a("el-select",{model:{value:e.formOnSale.form.status,callback:function(t){e.$set(e.formOnSale.form,"status",t)},expression:"formOnSale.form.status"}},[a("el-option",{attrs:{label:"已上架",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已核销",value:"2"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"开始时间：",prop:"started_at"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"请选择起始时间",size:"large","default-value":e.time,format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.formOnSale.form.started_at,callback:function(t){e.$set(e.formOnSale.form,"started_at",t)},expression:"formOnSale.form.started_at"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"结束时间：",prop:"end_at"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"请选择结束时间",size:"large","default-value":e.time,format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.formOnSale.form.end_at,callback:function(t){e.$set(e.formOnSale.form,"end_at",t)},expression:"formOnSale.form.end_at"}})],1)],1)],1),e._v(" "),a("el-row"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6,offset:9}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"default"},on:{click:e.resetForm}},[e._v("清空条件")])],1)],1)],1),e._v(" "),a("el-row",{staticClass:"btn-group"},[a("el-button",{attrs:{size:"medium"},on:{click:e.addChip}},[e._v("写入")])],1),e._v(" "),a("div",{staticClass:"table"},[a("table-view",{attrs:{tableName:e.formOnSale.name,columns:e.formOnSale.columns,pageList:e.formOnSale.list}})],1),e._v(" "),a("pagination-view",{directives:[{name:"show",rawName:"v-show",value:e.formOnSale.list.length,expression:"formOnSale.list.length"}],attrs:{paginationName:e.formOnSale.name,total:e.formOnSale.total,currentPage:e.formOnSale.form.page},on:{"size-change":e.handleSizeChange,"current-change":e.handleNumberChange}})],1)},staticRenderFns:[]};var i=a("C7Lr")(o,s,!1,function(e){a("DpOW")},"data-v-278ab396",null);t.default=i.exports}});