webpackJsonp([59],{Xb0i:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("BD25"),a=i("lMF6"),_=i("F5v2"),n={data:function(){return{channel:"",phone:"",delivery_type:10,status:!1,centerDialogVisible:!1,activeName2:"first",list:"",delivery_info:"",imageDomain:"",logistics:!0,receiver:"",discount_summary:"",order:"",pay_type:"",shipping_type:"",invoice:"",address:"",invoice_info:"",goods_list:[],trace_list:[]}},computed:{},methods:{infoClcik:function(e,t){var i=this;this.centerDialogVisible=!0,a.a.delivery_trace({code:e,express_no:t,phone:this.phone}).then(function(e){for(var t in i.trace_list=[],e.data)i.trace_list.push(e.data[t])})},getOrdeInfo:function(e){var t=this;a.a.getOrderInfo(e).then(function(e){t.list=null,t.list=e.data,t.goods_list=[],t.receiver=e.data.order.receiver,t.address=e.data.order.receiver.address;var i=t.list.status;t.discount_summary=e.data.discount_summary,t.channel=e.data.channel,t.order=e.data.order,t.pay_type=e.data.order.pay_type,t.shipping_type=e.data.order.shipping_type,t.delivery_type=e.data.delivery_type||10;var s=e.data.order.invoice.type;switch(e.data.order_goods.forEach(function(e,i){for(var s in e.promotions){var a=e.promotions[s];if("main_good"==a.promotion_role||null==a.promotion_role)switch(a.promotion_type){case"FullMinus":a.promotion_type="满减";break;case"FullDiscount":a.promotion_type="满折";break;case"FlashSale":a.promotion_type="特卖";break;case"SpeiaFlashSale":a.promotion_type="专场特卖";break;case"DirectReduction":a.promotion_type="直降";break;case"GroupBuy":a.promotion_type="拼团";break;case"SecKill":a.promotion_type="秒杀";break;case"OptionBuy":a.promotion_type="N元任选";break;case"ExchangeBuy":a.promotion_type="加价换购";break;case"GiftBuy":a.promotion_type="买赠"}else switch(a.promotion_type){case"ExchangeBuy":a.promotion_type="换购";break;case"GiftBuy":a.promotion_type="赠品"}}if(e.payments&&(e.payments.Trcloan?e.payments.gate.type="口袋钱包":e.payments.Alipay?e.payments.gate.type="支付宝":e.payments.Weixin?e.payments.gate.type="微信":e.payments.Offline&&(e.payments.gate.type="线下支付")),e.after_sale)switch(e.after_sale.status){case 10:e.after_sale.status="等待商家处理";break;case 20:e.after_sale.status="商家同意，等待平台处理";break;case 30:e.after_sale.status="平台处理退款，退款完成";break;case 40:e.after_sale.status="商家同意，等待消费者回寄";break;case 50:e.after_sale.status="消费者回寄，等待商家收货确认";break;case 60:e.after_sale.status="商家驳回";break;case 70:e.after_sale.status="用户撤销";break;case 80:e.after_sale.status="超时系统关闭"}t.goods_list.push(e)}),s){case 1:e.data.order.invoice.type="普通发票";break;case 2:e.data.order.invoice.type="增值税发票";break;case 3:e.data.order.invoice.type="电子发票"}switch(t.invoice=e.data.order.invoice,t.invoice_info=e.data.order.invoice.info,25==i&&(t.status=!0),i){case 10:t.list.status="等待买家付款",t.logistics=!1;break;case 20:t.list.status="买家已付款",t.logistics=!1;break;case 30:case 31:t.list.status="交易关闭";break;case 40:t.list.status="等待买家收货";break;case 50:t.list.status="等待买家评论";break;case 60:t.list.status="交易完成";break;case 25:t.list.status="等待发货",t.logistics=!1}var a=t.list.order.invoice.type;switch(10!=t.shipping_type?t.logistics=!1:t.logistics=!0,a){case"1":t.list.order.invoice.type="普通发票";break;case"2":t.list.order.invoice.type="增值税发票";break;case"3":t.list.order.invoice.type="电子发票"}})},deliveryInfo:function(e){var t=this;a.a.deliveryInfo(e).then(function(e){t.delivery_info=e.data,t.phone=e.data.receiver.phone})},goFH:function(){var e=Object(_.a)().shop_order_no;this.$router.push("/goods-deal/trade/shipments?shop_order_no="+e)},handleClick:function(e,t){this.delivery_info="","second"==e.name&&this.deliveryInfo(Object(_.a)())}},components:{VHeader:s.a},created:function(){this.getOrdeInfo(Object(_.a)())}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{padding:"10px"}},[i("div",{staticClass:"title"},[i("h2",[e._v(e._s(e.list.status))]),e._v(" "),e.status?i("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary"},on:{click:e.goFH}},[e._v("我要发货")]):e._e()],1),e._v(" "),i("div",[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName2,callback:function(t){e.activeName2=t},expression:"activeName2"}},[i("el-tab-pane",{attrs:{label:"订单信息",name:"first"}},[i("div",{staticStyle:{overflow:"hidden"}},[i("div",{staticStyle:{width:"30%",float:"left"}},[i("ul",[i("li",[i("h3",[e._v("支付及金额信息")])]),e._v(" "),i("li",[e._v("商品金额：¥"+e._s(e.list.total_fee))]),e._v(" "),i("li",[e._v("促销优惠：¥ - "+e._s(e.discount_summary.promotion))]),e._v(" "),e.discount_summary.vip>0?i("li",[e._v("会员折扣：¥ - "+e._s(e.discount_summary.vip))]):e._e(),e._v(" "),i("li",[e._v("运费：¥ "+e._s(e.list.post_fee))]),e._v(" "),i("li",[e._v("税费：¥ "+e._s(e.list.tax_fee))]),e._v(" "),i("li",[e._v("优惠劵抵扣¥ - "+e._s(e.discount_summary.coupon))]),e._v(" "),i("li",[e._v("红包抵扣：¥ - "+e._s(e.discount_summary.hb))]),e._v(" "),i("li",[i("h3",[e._v("订单总价：")]),i("h3",[e._v("¥"+e._s(e.list.payment))])])])]),e._v(" "),i("div",{staticStyle:{width:"35%",float:"left"}},[i("ul",[i("li",[i("h3",[e._v("支付及配送信息")])]),e._v(" "),i("li",[e._v("支付方式："+e._s(10==e.pay_type?"线上支付":"线下支付"))]),e._v(" "),i("li",[e._v("配送方式："+e._s(10==e.shipping_type?"快递":"自提"))])])]),e._v(" "),i("div",{staticStyle:{width:"35%",float:"left"}},[i("ul",[i("li",[i("h3",[e._v("订单信息")])]),e._v(" "),i("li",[e._v("店铺订单号："+e._s(e.list.no))]),e._v(" "),i("li",[e._v("平台订单号："+e._s(e.list.order_no))]),e._v(" "),i("li",[e._v("下单时间："+e._s(e.list.created_at))]),e._v(" "),i("li",[e._v("付款时间："+e._s(e.list.payed_at))]),e._v(" "),i("li",[e._v("发货时间："+e._s(e.list.consigned_at))])])])]),e._v(" "),i("div",{staticStyle:{width:"100%"}},[e.invoice.type?e._e():i("ul",[i("li",[i("h3",[e._v("发票信息")])]),e._v(" "),i("li",[e._v("发票类型：无")]),e._v(" "),i("li",[e._v("发票抬头：无")]),e._v(" "),i("li",[e._v("发票内容：无")])]),e._v(" "),"普通发票"==e.invoice.type||"电子发票"==e.invoice.type?i("div",[i("h3",[e._v("发票信息")]),e._v(" "),i("div",{staticStyle:{width:"49%",float:"left","margin-right":"2%",fontSize:"14px"}},[i("p",[e._v("是否需要发票：是")]),e._v(" "),i("p",[e._v("发票类型："+e._s(e.invoice.type))]),e._v(" "),i("p",[e._v("发票抬头："+e._s(e.invoice.title))]),e._v(" "),i("p",[e._v("发票内容：明细")]),e._v(" "),2==e.invoice_info.action&&""!=e.invoice_info.taxpayer_idNumber?i("p",[e._v("纳税人识别码："+e._s(e.invoice_info.taxpayer_idNumber))]):e._e(),e._v(" "),2==e.invoice_info.action&&""!=e.invoice_info.reg_address?i("p",[e._v("注册地址："+e._s(e.invoice_info.reg_address))]):e._e(),e._v(" "),i("p",[e._v("发票金额：¥"+e._s(e.list.invoice_amount))]),e._v(" "),"电子发票"==e.invoice.type?i("p",[e._v("收票人邮箱："+e._s(e.invoice_info.receiver_email))]):e._e()]),e._v(" "),2==e.invoice_info.action?i("div",{staticStyle:{width:"49%",float:"left",fontSize:"14px"}},[""!=e.invoice_info.reg_tel||null!=e.invoice_info.reg_tel?i("p",[e._v("注册电话："+e._s(e.invoice_info.reg_tel))]):e._e(),e._v(" "),""!=e.invoice_info.open_bank||null!=e.invoice_info.open_bank?i("p",[e._v("开户银行："+e._s(e.invoice_info.open_bank))]):e._e(),e._v(" "),""!=e.invoice_info.bank_account||null!=e.invoice_info.bank_account?i("p",[e._v("银行账户："+e._s(e.invoice_info.bank_account))]):e._e()]):e._e()]):e._e(),e._v(" "),"增值税发票"==e.invoice.type?i("div",[i("h3",[e._v("发票信息")]),e._v(" "),i("div",{staticStyle:{width:"49%",float:"left","margin-right":"2%",fontSize:"14px"}},[i("p",[e._v("是否需要发票：是")]),e._v(" "),i("p",[e._v("发票类型："+e._s(e.invoice.type))]),e._v(" "),i("p",[e._v("发票抬头："+e._s(e.invoice.title))]),e._v(" "),i("p",[e._v("发票内容：明细")]),e._v(" "),i("p",[e._v("纳税人识别码："+e._s(e.invoice_info.taxpayer_idNumber))]),e._v(" "),i("p",[e._v("注册地址："+e._s(e.invoice_info.reg_address))]),e._v(" "),i("p",[e._v("发票金额：¥"+e._s(e.list.invoice_amount))])]),e._v(" "),i("div",{staticStyle:{width:"49%",float:"left",fontSize:"14px"}},[i("p",[e._v("注册电话："+e._s(e.invoice_info.reg_tel))]),e._v(" "),i("p",[e._v("开户银行："+e._s(e.invoice_info.open_bank))]),e._v(" "),i("p",[e._v("银行账户："+e._s(e.invoice_info.bank_account))]),e._v(" "),i("p",[e._v("收票人姓名："+e._s(e.invoice_info.receiver_name))]),e._v(" "),i("p",[e._v("收票人手机："+e._s(e.invoice_info.receiver_tel))]),e._v(" "),i("p",[e._v("收票人地址："+e._s(e.invoice_info.receiver_region+e.invoice_info.receiver_address))])])]):e._e()]),e._v(" "),i("p"),e._v(" "),i("table",{staticStyle:{"border-collapse":"collapse"},attrs:{width:"100%"}},[i("tr",{staticClass:"list_title"},[i("td",[e._v("商品")]),e._v(" "),i("td",[e._v("原价")]),e._v(" "),i("td",[e._v("单价")]),e._v(" "),i("td",[e._v("数量")]),e._v(" "),i("td",[e._v("售后")]),e._v(" "),"pet"!==e.channel?i("td",[e._v("活动e卡")]):e._e(),e._v(" "),"pet"!==e.channel?i("td",[e._v("充值e卡")]):e._e(),e._v(" "),"pet"===e.channel?i("td",[e._v("宠币")]):e._e(),e._v(" "),i("td",[e._v("网关")])]),e._v(" "),e._l(e.goods_list,function(t,s){return i("tr",{key:s,staticClass:"tc"},[i("td",[i("div",{staticStyle:{float:"left"}},[i("img",{staticClass:"img",attrs:{src:t.primary_image+"_t.jpg"}})]),e._v(" "),i("div",{staticStyle:{float:"left"}},[i("a",{staticClass:"goods_url",attrs:{href:e.defaultUrl("item_id",t),target:"_blank"}},[i("p",[t.promotions?i("span",{staticStyle:{color:"red"}},[e._v("【"),e._l(t.promotions,function(t,s){return i("span",{key:s},[e._v("\n                                        "+e._s(t.promotion_type)+"\n                                    ")])}),e._v("】\n                                    ")],2):e._e(),e._v("\n                                       "+e._s(t.title))])]),e._v(" "),i("p",[e._v(e._s(t.spec_nature_info))])])]),e._v(" "),i("td",[e._v("\n                                "+e._s(t.sell_price)+"\n                            ")]),e._v(" "),i("td",[e._v("\n                                "+e._s(t.price)+"\n                            ")]),e._v(" "),i("td",[e._v("\n                                "+e._s(t.num)+"\n                            ")]),e._v(" "),i("td",[t.after_sale?i("span",[e._v(e._s(t.after_sale.status)+" ")]):i("span",[e._v("无")])]),e._v(" "),t.payments&&"pet"!==e.channel?i("td",[e._v("\n                                "+e._s(t.payments.EcardActivity.amount)+"\n                            ")]):e._e(),e._v(" "),t.payments&&"pet"!==e.channel?i("td",[e._v("\n                                "+e._s(t.payments.EcardRecharge.amount)+"\n                            ")]):e._e(),e._v(" "),t.payments&&"pet"===e.channel?i("td",[e._v("\n                              "+e._s(t.payments.Ucard.amount)+"\n                            ")]):e._e(),e._v(" "),t.payments?i("td",[e._v("\n                                "+e._s(t.payments.gate.amount)),0!=t.payments.gate.amount?i("span",[e._v("("+e._s(t.payments.gate.type)+")")]):e._e()]):e._e()])})],2)]),e._v(" "),e.logistics&&10==e.delivery_type?i("el-tab-pane",{attrs:{label:"收货和物流信息",name:"second"}},[i("div",[i("ul",[i("li",[i("h3",[e._v("收货人信息")])]),e._v(" "),i("li",[e._v("收货人地址："+e._s(e.address.name)+",\n                                          "+e._s(e.address.mobile)+",\n                                          "+e._s(e.address.state)+"\n                                          "+e._s(e.address.city)+"\n                                          "+e._s(e.address.district)+"\n                                          "+e._s(e.address.address)+"\n                                          "+e._s(e.address.state_code)+"\n                            ")]),e._v(" "),e.receiver.idCard?i("li",[e._v("身份证号："+e._s(e.receiver.idCard.id_number))]):e._e(),e._v(" "),""!=e.delivery_info.packed?i("li",[i("h3",[e._v("物流信息")])]):e._e()]),e._v(" "),i("el-tabs",{attrs:{type:"card"}},e._l(e.delivery_info.packed,function(t,s){return i("el-tab-pane",{key:s,attrs:{label:"包裹"+1*(s+1)}},[i("div",{staticStyle:{display:"inline-block"}},[i("h4",[e._v("国内物流")]),e._v(" "),i("p",[e._v("物流公司："+e._s(t.deliveries.domestic.corp_name))]),e._v(" "),i("p",[e._v("运单号："+e._s(t.deliveries.domestic.express_no))]),e._v(" "),i("a",{staticStyle:{fontSize:"14px",color:"#409EFF"},on:{click:function(i){return e.infoClcik(t.deliveries.domestic.corp_code,t.deliveries.domestic.express_no)}}},[e._v("查看物流信息")]),e._v(" "),i("div",[e._v("\n                                        "+e._s(t.deliveries.domestic.trace_list)+"\n                                        "),e._l(t.deliveries.domestic.trace_list,function(t,s){return i("p",{key:s},[i("span",{staticStyle:{"margin-right":"50px"}},[e._v(e._s(t.time))]),e._v(e._s(t.context))])})],2)]),e._v(" "),t.deliveries.overseas?i("div",{staticStyle:{display:"inline-block"}},[i("h4",[e._v("国际物流")]),e._v(" "),i("p",[e._v("物流公司："+e._s(t.deliveries.overseas.corp_name))]),e._v(" "),i("p",[e._v("运单号："+e._s(t.deliveries.overseas.express_no))]),e._v(" "),i("a",{staticStyle:{fontSize:"14px",color:"#409EFF"},on:{click:function(i){return e.infoClcik(t.deliveries.overseas.corp_code,t.deliveries.overseas.express_no)}}},[e._v("查看物流信息")])]):e._e()])}),1)],1)]):e._e()],1)],1)]),e._v(" "),i("el-dialog",{attrs:{title:"物流信息",visible:e.centerDialogVisible,width:"50%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[e._l(e.trace_list,function(t,s){return i("p",{key:s},[i("span",{staticStyle:{"margin-right":"50px"}},[e._v(e._s(t.time))]),e._v(e._s(t.context))])}),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("关 闭")])],1)],2)],1)},staticRenderFns:[]};var r=i("C7Lr")(n,o,!1,function(e){i("pc68")},null,null);t.default=r.exports},pc68:function(e,t){}});