webpackJsonp([111],{"3OAy":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("VXZc"),s=a("1G+u"),o=a("ajGf"),r=(a("6PaB"),{data:function(){return{list:[],form:{page:1,page_size:20},noClick:!1}},methods:{getShopCategoryList:function(e){var t=this;o.a.getShopCategoryList(e).then(function(e){for(var a in t.list=[],t.noClick=e.data.is_gray,e.data.list)t.list.push(e.data.list[a]),t.$set(e.data.list[a],"edit",!1)})},handleEdit:function(e){this.list.map(function(t){t.category_id==e.category_id&&(t.edit=!0)})},editShopCategory:function(e){var t=this;o.a.editShopCategory(e).then(function(e){t.$message({message:"保存成功",type:"success"})})},handleCheck:function(e){var t=this;if(e.rate=e.hasOwnProperty("rate")?e.rate:0,0==e.rate||e.rate>=1){var a={category_id:e.category_id,rate:e.rate};o.a.editShopCategory(a).then(function(a){t.$message({message:"保存成功",type:"success"}),e.edit=!1})}else this.$message({message:"佣金比率需≥0%",type:"warning"})}},components:{TableView:s.a,PaginationView:i.a},created:function(){this.getShopCategoryList(this.form)},computed:{}}),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticClass:"table",attrs:{data:e.list,border:"",align:"center"}},[a("el-table-column",{attrs:{align:"center",label:"一级分类",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"佣金比率"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.edit,expression:"!scope.row.edit"}]},[e._v(e._s(t.row.rate))]),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.row.edit,expression:"scope.row.edit"}],staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:t.row.rate,callback:function(a){e.$set(t.row,"rate",e._n(a))},expression:"scope.row.rate"}}),e._v("%\n            "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.edit,expression:"scope.row.edit"}],staticStyle:{color:"red",fontSize:"14px"}},[e._v("佣金比率需≥0%")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.row.edit,expression:"!scope.row.edit"}],attrs:{type:"text",disabled:e.noClick},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.row.edit,expression:"scope.row.edit"}],attrs:{type:"text",disabled:e.noClick},on:{click:function(a){return e.handleCheck(t.row)}}},[e._v("保存")])]}}])})],1)],1)},staticRenderFns:[]},l=a("C7Lr")(r,n,!1,null,null,null);t.default=l.exports}});