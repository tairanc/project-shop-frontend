webpackJsonp([48],{"9RFS":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("3cXf"),o=a.n(r),n=a("VXZc"),s=a("1G+u"),l=a("ajGf"),i=a("NcNL"),c=a.n(i),d=a("wJ7o"),f=a.n(d),m={data:function(){return{total:0,form:{page:1,page_size:20,start_at:"",end_at:""},list:[],listdown:[],columns:[{label:"日期",field:"day",align:"center"},{label:"实付金额",field:"sum_payment_amount",align:"center"},{label:"最终结算金额",field:"sum_real_amount",align:"center"},{label:"佣金支出",field:"sum_settled_income",align:"center"},{label:"平均分佣比率",field:"avg_bonus_rate",align:"center"}]}},methods:{getOrderGatherList:function(t){var e=this;l.a.getOrderGatherList(t).then(function(t){for(var a in e.total=t.data.total_count,e.list=[],t.data.data)e.list.push(t.data.data[a])})},sizeChange:function(t){this.form.page_size=t,this.getOrderGatherList(this.form)},pageChange:function(t){this.form.page=t,this.getOrderGatherList(this.form)},exportExcel:function(){var t=this,e=JSON.parse(o()(this.form));e.page_size=-1,l.a.getOrderGatherList(e).then(function(e){for(var a in t.listdown=[],e.data.data)t.listdown.push(e.data.data[a]);setTimeout(function(){var t=f.a.utils.table_to_book(document.querySelector("#rebateSetTabledown")),e=f.a.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{c.a.saveAs(new Blob([e],{type:"application/octet-stream"}),"分佣订单汇总.xlsx")}catch(t){"undefined"!=typeof console&&console.log(t,e)}return e},1e3)})}},created:function(){this.getOrderGatherList(this.form)},components:{TableView:s.a,PaginationView:n.a}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",[a("el-row",[a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"开始时间：",prop:"start_at"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.form.start_at,callback:function(e){t.$set(t.form,"start_at",e)},expression:"form.start_at"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"结束时间：",prop:"end_at"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.form.end_at,callback:function(e){t.$set(t.form,"end_at",e)},expression:"form.end_at"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.getOrderGatherList(t.form)}}},[t._v("搜索")])],1),t._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-button",{attrs:{icon:"el-icon-download"},on:{click:t.exportExcel}},[t._v("下载报表")])],1)],1)],1),t._v(" "),a("p"),t._v(" "),a("table-view",{attrs:{columns:t.columns,pageList:t.list,id:"rebateSetTable"}}),t._v(" "),a("pagination-view",{attrs:{currentPage:t.form.page,total:t.total},on:{"size-change":t.sizeChange,"current-change":t.pageChange}}),t._v(" "),a("table-view",{attrs:{columns:t.columns,pageList:t.listdown,id:"rebateSetTabledown"}})],1)},staticRenderFns:[]};var p=a("C7Lr")(m,u,!1,function(t){a("PDfj")},"data-v-7b932048",null);e.default=p.exports},PDfj:function(t,e){}});