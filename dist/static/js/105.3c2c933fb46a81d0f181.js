webpackJsonp([105],{afnM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("V6yb"),a=n("VXZc"),l={data:function(){var e=this;return{columns:[{label:"优惠券ID",field:"id",align:"center"},{label:"优惠券名称",field:"name",align:"center"},{label:"报名开始时间",field:"apply_start_time",align:"center"},{label:"报名结束时间",field:"apply_end_time",align:"center"},{label:"发布时间",field:"release_time",align:"center"},{label:"优惠券使用时间",field:"use_time",align:"center"},{label:"报名情况",field:"apply",align:"center"},{label:"参与情况",field:"join",align:"center"},{label:"操作",align:"center",actions:[{label:"查看",type:"text",size:"medium",visible:function(e){return 0==e.can_apply},click:function(t,n){e.$router.push({name:"shopDetail",query:{coupon_id:n.id}})}},{label:"报名",type:"text",size:"medium",visible:function(e){return 1==e.can_apply},click:function(t,n){e.$router.push({name:"addShop",query:{coupon_id:n.id}})}}]}],loading:!1,list:[],total:0,pageInfo:{type:"list",page:1,page_size:20}}},methods:{sizeChange:function(e){this.pageInfo.page_size=e,this.getShopCrossCouponList(this.pageInfo)},pageChange:function(e){this.pageInfo.page=e,this.getShopCrossCouponList(this.pageInfo)},getShopCrossCouponList:function(e){var t=this;i.a.getShopCrossCouponList(e).then(function(e){0==e.code&&(t.total=e.data.total_count,t.list=e.data.list,t.list.map(function(e){t.$set(e,"use_time",e.use_start_time+" — "+e.use_end_time)}))})}},components:{TableView:n("1G+u").a,PaginationView:a.a},created:function(){this.getShopCrossCouponList(this.pageInfo)}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sales"},[n("table-view",{attrs:{loading:e.loading,columns:e.columns,pageList:e.list}}),e._v(" "),n("pagination-view",{attrs:{currentPage:e.pageInfo.page,total:e.total},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1)},staticRenderFns:[]},o=n("C7Lr")(l,s,!1,null,null,null);t.default=o.exports}});