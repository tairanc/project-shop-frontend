webpackJsonp([61],{"7S95":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("kIQj"),r={data:function(){return{chars:[],areaList:"",is_search:!1,areaType:1,areaShow:!1,addForm:{area:{province:{code:"",text:""},city:{code:"",text:""}},store_type:"",is_used:1}}},methods:{setArea:function(e){var a=this;s.a.getWarehouseArea(e).then(function(e){0===e.code&&(a.chars=e.data.chars,a.areaList=e.data.list)})},changeArea:function(){this.areaType=1===this.areaType?2:1,this.setArea({area_type:this.areaType})},showArea:function(){this.areaShow=!0},chooseCountry:function(e){this.addForm.area.province.code=e.id,this.addForm.area.province.text=e.label,this.addForm.area.city.code=e.id,this.addForm.area.city.text=e.label,this.areaShow=!1},chooseCity:function(e,a){this.addForm.area.province.code=e.id,this.addForm.area.province.text=e.label,this.addForm.area.city.code=a.id,this.addForm.area.city.text=a.label,this.areaShow=!1},searchCity:function(e){var a=this;s.a.getWarehouseArea({area_type:this.areaType,keyword:e}).then(function(t){0===t.code&&(""==e?(a.is_search=!1,a.chars=t.data.chars,a.areaList=t.data.list):(a.is_search=!0,a.areaList=t.data))})},submitForm:function(){var e=this;s.a.createWarehouse(this.addForm).then(function(a){0===a.code&&e.$router.push({name:"warehouse"})})},handleCancel:function(){this.$router.push({name:"warehouse"})}},created:function(){this.setArea({area_type:this.areaType})}},i={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"add"},[t("el-card",[t("el-form",{attrs:{model:e.addForm}},[t("el-form-item",{attrs:{label:"发货地："}},[t("el-input",{on:{focus:e.showArea},model:{value:e.addForm.area.city.text,callback:function(a){e.$set(e.addForm.area.city,"text",a)},expression:"addForm.area.city.text"}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.areaShow,expression:"areaShow"}],staticClass:"area"},[t("div",{staticClass:"header"},[t("span",{staticClass:"title",class:1===e.areaType?"active":"",on:{click:e.changeArea}},[e._v("国内")]),e._v(" "),t("span",{staticClass:"title",class:2===e.areaType?"active":"",on:{click:e.changeArea}},[e._v("国际")])]),e._v(" "),t("div",{staticClass:"body"},[t("el-input",{attrs:{placeholder:"请输入城市名","prefix-icon":"el-icon-search"},on:{change:e.searchCity}}),e._v(" "),t("div",{staticClass:"letter"},e._l(e.chars,function(a){return t("a",{attrs:{href:"#"+a}},[e._v(e._s(a))])}),0),e._v(" "),t("div",{staticClass:"main"},[e._l(e.areaList,function(a,s){return t("div",{directives:[{name:"show",rawName:"v-show",value:!e.is_search,expression:"!is_search"}],staticClass:"item",attrs:{id:s}},[t("span",{staticClass:"key"},[e._v(e._s(s))]),e._v(" "),e._l(a,function(a){return t("div",{staticClass:"province"},[1==e.areaType?t("h4",{staticClass:"title"},[e._v(e._s(a.label))]):t("h4",{staticClass:"title",on:{click:function(t){return e.chooseCountry(a)}}},[e._v(e._s(a.label))]),e._v(" "),t("ul",e._l(a.children,function(s){return t("li",{staticClass:"city",on:{click:function(t){return e.chooseCity(a,s)}}},[e._v(e._s(s.label))])}),0)])})],2)}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.is_search,expression:"is_search"}],staticClass:"searchItem"},e._l(e.areaList,function(a){return t("div",{staticClass:"province"},[1==e.areaType?t("h4",{staticClass:"title"},[e._v(e._s(a.label))]):t("h4",{staticClass:"title",on:{click:function(t){return e.chooseCountry(a)}}},[e._v(e._s(a.label))]),e._v(" "),t("ul",e._l(a.children,function(s){return t("li",{staticClass:"city",on:{click:function(t){return e.chooseCity(a,s)}}},[e._v(e._s(s.label))])}),0)])}),0)],2)],1)])],1),e._v(" "),t("el-form-item",{attrs:{label:"仓库类型："}},[t("el-select",{model:{value:e.addForm.store_type,callback:function(a){e.$set(e.addForm,"store_type",a)},expression:"addForm.store_type"}},[t("el-option",{attrs:{label:"普通仓",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"保税仓",value:"2"}}),e._v(" "),t("el-option",{attrs:{label:"海外仓",value:"3"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"是否启用："}},[t("el-radio-group",{model:{value:e.addForm.is_used,callback:function(a){e.$set(e.addForm,"is_used",a)},expression:"addForm.is_used"}},[t("el-radio",{attrs:{label:1}},[e._v("启用")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("禁用")])],1)],1),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")]),e._v(" "),t("el-button",{attrs:{type:"default"},on:{click:e.handleCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var o=t("C7Lr")(r,i,!1,function(e){t("tf1X")},"data-v-6151fe13",null);a.default=o.exports},tf1X:function(e,a){}});