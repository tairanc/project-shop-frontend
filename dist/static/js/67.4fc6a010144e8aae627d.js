webpackJsonp([67],{"0cXs":function(t,e){},h8c0:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("VXZc"),s=a("1G+u"),o=a("ajGf"),l=a("NcNL"),n=a.n(l),i=a("wJ7o"),d=a.n(i),c={data:function(){return{total:0,form:{page:1,page_size:20,start_at:"",end_at:"",order_status:""},list:[],columns:[{label:"订单创建时间",field:"created_at",align:"center"},{label:"订单结算时间",field:"settled_at",align:"center"},{label:"订单状态",field:"order_status",align:"center"},{label:"商品ID",field:"item_id",align:"center"},{label:"商品名称",align:"center",isGood:2},{label:"属性",field:"spec_nature_info",align:"center"},{label:"商品数量",field:"item_num",align:"center"},{label:"订单实付金额",field:"payment_amount",align:"center"},{label:"佣金比率",field:"bonus_rate",align:"center"},{label:"最终结算金额",field:"settled_amount",align:"center"},{label:"订单编号",field:"shop_order_id",align:"center"}]}},methods:{getListShareBonus:function(t){var e=this;o.a.getListShareBonus(t).then(function(t){for(var a in e.total=t.data.total_count,e.list=[],t.data.data){switch(t.data.data[a].order_status){case 20:t.data.data[a].order_status="已付款";break;case 30:t.data.data[a].order_status="已发货";break;case 50:t.data.data[a].order_status="已失效";break;case 40:t.data.data[a].order_status="已结算"}e.list.push(t.data.data[a])}})},sizeChange:function(t){this.form.page_size=t,this.getListShareBonus(this.form)},pageChange:function(t){this.form.page=t,this.getListShareBonus(this.form)},exportExcel:function(){var t=this;this.form.page_size=-1,o.a.getListShareBonus(this.form).then(function(e){for(var a in t.total=e.data.total_count,t.list=[],e.data.data){switch(e.data.data[a].order_status){case 20:e.data.data[a].order_status="已付款";break;case 30:e.data.data[a].order_status="已发货";break;case 50:e.data.data[a].order_status="已失效";break;case 40:e.data.data[a].order_status="已结算"}t.list.push(e.data.data[a])}setTimeout(function(){var t=d.a.utils.table_to_book(document.querySelector("#rebateSetTable")),e=d.a.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{n.a.saveAs(new Blob([e],{type:"application/octet-stream"}),"分佣订单细明.xlsx")}catch(t){"undefined"!=typeof console&&console.log(t,e)}return e},1e3)})}},created:function(){this.getListShareBonus(this.form)},components:{TableView:s.a,PaginationView:r.a}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"orderInfo"}},[a("el-form",[a("el-row",[a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"订单状态",prop:"order_status"}},[a("el-select",{attrs:{placeholder:"全部状态"},model:{value:t.form.order_status,callback:function(e){t.$set(t.form,"order_status",e)},expression:"form.order_status"}},[a("el-option",{attrs:{label:"已付款",value:"20"}}),t._v(" "),a("el-option",{attrs:{label:"已发货",value:"30"}}),t._v(" "),a("el-option",{attrs:{label:"已失效",value:"50"}}),t._v(" "),a("el-option",{attrs:{label:"已结算",value:"40"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"开始时间：",prop:"start_at"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.form.start_at,callback:function(e){t.$set(t.form,"start_at",e)},expression:"form.start_at"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"结束时间：",prop:"end_at"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.form.end_at,callback:function(e){t.$set(t.form,"end_at",e)},expression:"form.end_at"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:3,offset:1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.getListShareBonus(t.form)}}},[t._v("搜索")])],1),t._v(" "),a("el-col",{attrs:{span:3,offset:1}},[a("el-button",{attrs:{icon:"el-icon-download"},on:{click:t.exportExcel}},[t._v("下载报表")])],1)],1)],1),t._v(" "),a("p"),t._v(" "),a("table-view",{attrs:{columns:t.columns,pageList:t.list,id:"rebateSetTable"}}),t._v(" "),a("pagination-view",{attrs:{currentPage:t.form.page,total:t.total},on:{"size-change":t.sizeChange,"current-change":t.pageChange}})],1)},staticRenderFns:[]};var f=a("C7Lr")(c,u,!1,function(t){a("0cXs")},"data-v-53b7f066",null);e.default=f.exports}});