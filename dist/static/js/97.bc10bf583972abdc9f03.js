webpackJsonp([97],{PLym:function(e,t){},la9e:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("1G+u"),o=s("VXZc"),a=s("kIQj"),n={data:function(){var e=this;return{form:{shop_id:1,open_status:"",logistics_code:"",logistics_name:"",page:1,page_size:20},list:[],total:0,company:[{label:"物流公司名称",field:"name",align:"center"},{label:"物流公司编码",field:"code",align:"center"},{label:"状态",field:"open_text",align:"center"},{label:"操作",align:"center",actions:[{label:"禁用",type:"primary",size:"mini",visible:function(e){return 1===e.is_open},click:function(t,s){a.a.cancelSignLogistics({shop_id:e.form.shop_id,corp_id:s.id}).then(function(t){0===t.code&&(s.is_open=0,s.open_text="已禁用",e.$message({type:"success",message:"操作成功！"}))})}},{label:"启用",type:"primary",size:"mini",visible:function(e){return 0===e.is_open},click:function(t,s){a.a.signLogistics({shop_id:e.form.shop_id,corp_id:s.id}).then(function(t){0===t.code&&(s.is_open=1,s.open_text="已启用",e.$message({type:"success",message:"操作成功！"}))})}}]}]}},methods:{handleSizeChange:function(e){this.form.page_size=e,this.getLogistics(this.form)},handleNumberChange:function(e){this.form.page=e,this.getLogistics(this.form)},search:function(){this.form.page=1,this.getLogistics(this.form)},resetForm:function(){this.$refs.form.resetFields()},getLogistics:function(e){var t=this;a.a.getLogistics(e).then(function(e){e.data.data.forEach(function(e){1===e.is_open?e.open_text="已启用":e.open_text="已禁用"}),t.list=e.data.data,t.total=e.data.total_count})}},created:function(){this.search()},components:{TableView:i.a,PaginationView:o.a}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logistics"},[s("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"150px"}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"物流公司名称：",prop:"logistics_name"}},[s("el-input",{model:{value:e.form.logistics_name,callback:function(t){e.$set(e.form,"logistics_name",t)},expression:"form.logistics_name"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6,offset:1}},[s("el-form-item",{attrs:{label:"物流公司编码：",prop:"logistics_code"}},[s("el-input",{model:{value:e.form.logistics_code,callback:function(t){e.$set(e.form,"logistics_code",t)},expression:"form.logistics_code"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:6,offset:1}},[s("el-form-item",{attrs:{label:"状态：",prop:"open_status"}},[s("el-select",{model:{value:e.form.open_status,callback:function(t){e.$set(e.form,"open_status",t)},expression:"form.open_status"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),s("el-option",{attrs:{label:"已启用",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"已禁用",value:"0"}})],1)],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:6,offset:10}},[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("确定")]),e._v(" "),s("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1),e._v(" "),s("table-view",{attrs:{columns:e.company,pageList:e.list}}),e._v(" "),s("pagination-view",{directives:[{name:"show",rawName:"v-show",value:e.list.length,expression:"list.length"}],attrs:{total:e.total,currentPage:e.form.page},on:{"size-change":e.handleSizeChange,"current-change":e.handleNumberChange}})],1)},staticRenderFns:[]};var c=s("C7Lr")(n,l,!1,function(e){s("PLym")},"data-v-115f449a",null);t.default=c.exports}});