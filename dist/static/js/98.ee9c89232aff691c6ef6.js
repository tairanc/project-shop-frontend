webpackJsonp([98],{FGkx:function(t,a){},VBOO:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("VXZc"),n=e("1G+u"),s=e("Cotb"),c={data:function(){var t=this;return{tabName:"activity",total:0,list:[],columns:[{label:"礼包ID",field:"package_id",align:"center"},{label:"礼包名称",field:"package_name",align:"center"},{label:"报名开始时间",field:"apply_start_time",align:"center"},{label:"领取开始时间",field:"obtain_start_time",align:"center"},{label:"领取结束时间",field:"obtain_end_time",align:"center"},{label:"报名情况",align:"center",gift:"1"},{label:"参与情况",field:"activity_status",align:"center"},{label:"操作",align:"center",actions:[{label:"查看",type:"text",size:"medium",disable:function(t,a){return"可参与"==t.activity_status},click:function(a,e){t.openGift(e.package_id,e.apply_id,e.is_applied)}},{label:"报名",type:"text",size:"medium",disable:function(t,a){return"报名未开始"==t.activity_status||"报名已结束"==t.activity_status||"不可参与"==t.activity_status||"报名已取消"==t.activity_status},click:function(a,e){t.openGiftBm(e.package_id,e.apply_id)}}]}],page:{page:1,page_size:20,type:"activity"}}},methods:{getGiftList:function(t){var a=this;s.a.getGiftList(t).then(function(t){a.total=t.data.total_count,a.list=[];var e=a;for(var i in t.data.data){switch(t.data.data[i].activity_status){case 10:t.data.data[i].activity_status="报名未开始";break;case 20:t.data.data[i].activity_status="可参与";break;case 30:t.data.data[i].activity_status="报名已结束";break;case 40:t.data.data[i].activity_status="不可参与";break;case 50:t.data.data[i].activity_status="报名已取消"}e.list.push(t.data.data[i])}}).catch(function(t){console.log(t)})},tabClick:function(t,a){this.page.type=t.name,this.getGiftList(this.page)},sizeChange:function(t){this.page.page_size=t,this.getGiftList(this.page)},pageChange:function(t){this.page.page=t,this.getGiftList(this.page)},openGift:function(t,a,e){this.$router.push({name:"giftInfo",query:{package_id:t,apply_id:a,is_applied:e}})},openGiftBm:function(t,a){this.$router.push({name:"giftBm",query:{package_id:t,apply_id:a}})}},created:function(){this.getGiftList(this.page)},components:{PaginationView:i.a,TableView:n.a}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"gift"},[e("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.tabClick},model:{value:t.tabName,callback:function(a){t.tabName=a},expression:"tabName"}},[e("el-tab-pane",{attrs:{label:"我的报名",name:"my"}},[e("table-view",{attrs:{columns:t.columns,pageList:t.list}}),t._v(" "),e("pagination-view",{attrs:{currentPage:t.page.page,total:t.total},on:{"size-change":t.sizeChange,"current-change":t.pageChange}})],1),t._v(" "),e("el-tab-pane",{attrs:{label:"活动列表",name:"activity"}},[e("table-view",{attrs:{columns:t.columns,pageList:t.list}}),t._v(" "),e("pagination-view",{attrs:{currentPage:t.page.page,total:t.total},on:{"size-change":t.sizeChange,"current-change":t.pageChange}})],1),t._v(" "),e("el-tab-pane",{attrs:{label:"历史报名",name:"history"}},[e("table-view",{attrs:{columns:t.columns,pageList:t.list}}),t._v(" "),e("pagination-view",{attrs:{currentPage:t.page.page,total:t.total},on:{"size-change":t.sizeChange,"current-change":t.pageChange}})],1)],1)],1)},staticRenderFns:[]};var r=e("C7Lr")(c,l,!1,function(t){e("FGkx")},"data-v-115257ff",null);a.default=r.exports}});