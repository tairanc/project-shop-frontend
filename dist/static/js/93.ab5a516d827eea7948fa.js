webpackJsonp([93],{sGmx:function(e,t){},tA06:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("1G+u"),i=a("VXZc"),n=a("kIQj"),r={data:function(){var e=this;return{list:[],total:0,page:1,page_size:20,wareHouse:[{label:"仓库名称",field:"name",align:"center"},{label:"状态",field:"used_text",align:"center"},{label:"创建时间",field:"created_at",align:"center"},{label:"更新时间",field:"updated_at",align:"center"},{label:"操作",align:"center",actions:[{label:"启用",type:"primary",size:"mini",visible:function(e){return 0===e.is_used},click:function(t,a){n.a.changeWarehouseStatus({store_id:a.id,is_used:1}).then(function(t){0===t.code&&(e.$message({type:"success",message:"操作成功！"}),e.getWarehouseList({page:e.page,page_size:e.page_size}))})}},{label:"禁用",type:"primary",size:"mini",visible:function(e){return 1===e.is_used},click:function(t,a){n.a.changeWarehouseStatus({store_id:a.id,is_used:0}).then(function(t){0===t.code&&(e.$message({type:"success",message:"操作成功！"}),e.getWarehouseList({page:e.page,page_size:e.page_size}))})}},{label:"删除",type:"danger",size:"mini",click:function(t,a){n.a.removeWarehouse({store_id:a.id}).then(function(t){0===t.code&&(e.$message({type:"success",message:"操作成功！"}),e.getWarehouseList({page:1,page_size:e.page_size}))})}}]}]}},methods:{handleSizeChange:function(e){this.page_size=e,this.getWarehouseList({page:this.page,page_size:this.page_size})},handleNumberChange:function(e){this.page=e,this.getWarehouseList({page:this.page,page_size:this.page_size})},getWarehouseList:function(e){var t=this;n.a.getWarehouseList(e).then(function(e){e.data.data.forEach(function(e){e.used_text=1===e.is_used?"启用":"禁用"}),t.list=e.data.data,t.total=e.data.count})},addStore:function(){this.$router.push({name:"addstore"})}},created:function(){this.getWarehouseList({page:this.page,page_size:this.page_size})},components:{TableView:s.a,PaginationView:i.a}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warehouse"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addStore}},[e._v("新增仓库")]),e._v(" "),a("table-view",{attrs:{columns:e.wareHouse,pageList:e.list}}),e._v(" "),a("pagination-view",{directives:[{name:"show",rawName:"v-show",value:e.list.length,expression:"list.length"}],attrs:{total:e.total,currentPage:e.page},on:{"size-change":e.handleSizeChange,"current-change":e.handleNumberChange}})],1)},staticRenderFns:[]};var u=a("C7Lr")(r,o,!1,function(e){a("sGmx")},"data-v-16058435",null);t.default=u.exports}});