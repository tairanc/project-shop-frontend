webpackJsonp([99],{"3/aN":function(e,r){},"Su/6":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("BD25"),o=t("TwMp"),a=/^[1][3,4,5,7,8][0-9]{9}$/,i=/^[a-zA-Z0-9_-]+@([a-zA-Z0-9]+\.)+(com|cn|net|org)$/,l=/^(?!\d+$)[^\u4e00-\u9fa5]*$/,s=/^(?!\d+$|[a-zA-Z]+$)[^\u4e00-\u9fa5]*$/,m={data:function(){var e=this;return{formOnAdmin:{name:"",password:"",confirm_password:"",account:"",mobile:"",email:"",role_id:""},role_list:[],rules:{name:[{validator:function(e,r,t){if(!r)return t(new Error("姓名必填"));t()},trigger:"blur"}],account:[{validator:function(e,r,t){return r?r.length<4||!l.test(r)?t(new Error("最少4个字符 不能纯数字或中文")):void t():t(new Error("用户名必填"))},trigger:"blur"}],password:[{validator:function(e,r,t){return r?!r.length>6&&r.length<20||!s.test(r)?t(new Error("6-20个字符 不能纯数字.字母")):void t():t(new Error("密码必填"))},trigger:"blur"}],confirm_password:[{validator:function(r,t,n){return t?e.formOnAdmin.password!=e.formOnAdmin.confirm_password?n(new Error("密码不一致")):void n():n(new Error("密码必填"))},trigger:"blur"}],mobile:[{validator:function(e,r,t){return r?r.length>11||!a.test(r)?t(new Error("请输入11位有效号码")):void t():t(new Error("手机号必填"))},trigger:"blur"}],email:[{validator:function(e,r,t){return r?r.length>50||!i.test(r)?t(new Error("请输入有效的email")):void t():t(new Error("邮箱必填"))},trigger:"blur"}]}}},methods:{getRoleList:function(){var e=this;o.a.getRoleList().then(function(r){for(var t in e.role_list=[],r.data)e.role_list.push(r.data[t])})},createAdmin:function(e){var r=this;o.a.createAdmin(e).then(function(e){r.$router.push({path:"/shop-admin/permissions/admin"})})},clickCreateAdmin:function(){var e=this;this.$refs.formOnAdmin.validate(function(r){r&&(""!=e.formOnAdmin.role_id?e.createAdmin(e.formOnAdmin):e.$message({type:"error",message:"角色必填"}))})}},components:{VHeader:n.a},created:function(){this.getRoleList()}},d={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",[t("div",{staticClass:"manage"},[t("el-tabs",{attrs:{type:"border-card"}},[t("h2",[e._v("添加用户")]),e._v(" "),t("el-form",{ref:"formOnAdmin",attrs:{model:e.formOnAdmin,rules:e.rules,"label-width":"100px",size:"medium"}},[t("el-row",[t("el-col",{attrs:{span:6,offset:1}},[t("el-form-item",{attrs:{prop:"account",label:"用户名："}},[t("el-input",{attrs:{placeholder:"最少4个字符 不能是纯数字"},model:{value:e.formOnAdmin.account,callback:function(r){e.$set(e.formOnAdmin,"account",r)},expression:"formOnAdmin.account"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6,offset:1}},[t("el-form-item",{attrs:{prop:"password",label:"设置密码："}},[t("el-input",{attrs:{type:"password",placeholder:"6-20个字符 不能纯数字.字母"},model:{value:e.formOnAdmin.password,callback:function(r){e.$set(e.formOnAdmin,"password",r)},expression:"formOnAdmin.password"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6,offset:1}},[t("el-form-item",{attrs:{prop:"confirm_password",label:"确认密码："}},[t("el-input",{attrs:{type:"password",placeholder:"登陆密码确认"},model:{value:e.formOnAdmin.confirm_password,callback:function(r){e.$set(e.formOnAdmin,"confirm_password",r)},expression:"formOnAdmin.confirm_password"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:6,offset:1}},[t("el-form-item",{attrs:{prop:"name",label:"联系姓名："}},[t("el-input",{attrs:{type:"text",placeholder:"店员姓名，最多10个字符",maxlength:"10"},model:{value:e.formOnAdmin.name,callback:function(r){e.$set(e.formOnAdmin,"name",r)},expression:"formOnAdmin.name"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6,offset:1}},[t("el-form-item",{attrs:{prop:"mobile",label:"联系手机："}},[t("el-input",{attrs:{type:"text",placeholder:"请输入联系人手机"},model:{value:e.formOnAdmin.mobile,callback:function(r){e.$set(e.formOnAdmin,"mobile",r)},expression:"formOnAdmin.mobile"}})],1)],1),e._v(" "),t("el-col",{attrs:{span:6,offset:1}},[t("el-form-item",{attrs:{prop:"email",label:"联系邮箱："}},[t("el-input",{attrs:{type:"text",placeholder:"最多50个字符"},model:{value:e.formOnAdmin.email,callback:function(r){e.$set(e.formOnAdmin,"email",r)},expression:"formOnAdmin.email"}})],1)],1)],1),e._v(" "),t("el-row",{staticStyle:{"margin-top":"20px"}},[t("el-col",{attrs:{span:18,offset:1}},[t("el-form-item",{attrs:{label:"选择角色：",prop:"role_id"}},[t("el-radio-group",{model:{value:e.formOnAdmin.role_id,callback:function(r){e.$set(e.formOnAdmin,"role_id",r)},expression:"formOnAdmin.role_id"}},e._l(e.role_list,function(r){return t("el-radio",{key:r.role_id,attrs:{label:r.role_id}},[e._v(e._s(r.name))])}),1)],1)],1)],1),e._v(" "),t("el-row",{staticClass:"tc"},[t("el-col",{attrs:{span:24,offset:1}},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickCreateAdmin}},[e._v("保存")]),e._v(" "),t("a",{attrs:{href:"/shop-admin/permissions/admin"}},[t("el-button",[e._v("取消")])],1)],1)],1)],1)],1)],1)])},staticRenderFns:[]};var c=t("C7Lr")(m,d,!1,function(e){t("3/aN")},"data-v-0ec3795e",null);r.default=c.exports}});